(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{52:function(e,t,n){e.exports=n(93)},57:function(e,t,n){},59:function(e,t,n){},93:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(46),s=n.n(c),u=(n(57),n(24)),l=n(25),i=n(30),o=n(26),m=n(31),b=n(2),f=n(95),p=(n(59),n(61).List);function d(e){var t=e.name,n=e.numbers,a=e.supplier;return r.a.createElement("tr",null,r.a.createElement("th",null,t),n.map(function(e){return r.a.createElement("td",{key:t+"."+e.turn,className:e.correct?"success":"danger"},a(e))}),r.a.createElement("td",{className:"last-column"}," "))}function h(e){var t=e.numbers;return r.a.createElement("div",{className:"panel panel-default"},r.a.createElement("div",{className:"panel-heading"},r.a.createElement("h3",{className:"panel-title"},"Answers so far")),r.a.createElement("div",{className:"panel-body number-container"},r.a.createElement("table",{className:"table"},r.a.createElement("tbody",null,r.a.createElement(d,{name:"Number",numbers:t,supplier:function(e){return e.number}}),r.a.createElement(d,{name:"Answer",numbers:t,supplier:function(e){return e.actual}}),r.a.createElement(d,{name:"Correct",numbers:t,supplier:function(e){return e.expected}})))))}var v=function(e){function t(e){var n;Object(u.a)(this,t),n=Object(i.a)(this,Object(o.a)(t).call(this,e));var a=e.ticks;return n.state={left:a,ticks:a},n.tick=n.tick.bind(Object(b.a)(Object(b.a)(n))),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.timer=setInterval(this.tick,100)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"tick",value:function(){var e=this.state.left-1;e<=0&&this.props.onTimeout(),this.setState({left:e})}},{key:"render",value:function(){var e=this.state,t=100*e.left/e.ticks;return r.a.createElement(f.a,{now:t})}}]),t}(a.Component);function E(e){var t=e.number,n=e.onAnswer,a=e.onTimeout;return r.a.createElement("div",{className:"well"},r.a.createElement(v,{ticks:50,onTimeout:a}),r.a.createElement("p",null,"Current number: ",t," "),r.a.createElement("div",{className:"btn-group",role:"group","aria-label":"..."},r.a.createElement("button",{type:"button",className:"btn btn-default",onClick:function(){return n("Fizz")}},"Fizz"),r.a.createElement("button",{type:"button",className:"btn btn-default",onClick:function(){return n("Buzz")}},"Buzz"),r.a.createElement("button",{type:"button",className:"btn btn-default",onClick:function(){return n("FizzBuzz")}},"FizzBuzz"),r.a.createElement("button",{type:"button",className:"btn btn-default",onClick:function(){return n(t)}},t)))}var N=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(i.a)(this,Object(o.a)(t).call(this,e))).state={status:"NOT_LOADED",paused:!1,numbers:new p,current:null,answer:null,turn:0},n.processAnswer=n.processAnswer.bind(Object(b.a)(Object(b.a)(n))),n.onTimeout=n.onTimeout.bind(Object(b.a)(Object(b.a)(n))),n.handleStop=n.handleStop.bind(Object(b.a)(Object(b.a)(n))),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"generateNumber",value:function(){return Math.floor(101*Math.random())}},{key:"componentWillMount",value:function(){this.fetchNext()}},{key:"onTimeout",value:function(){this.processAnswer("-")}},{key:"handleStop",value:function(){var e=this.state.paused;e&&this.fetchNext(),this.setState({paused:!e})}},{key:"processAnswer",value:function(e){var t=this.state,n=t.answer,a=t.current,r=t.turn,c=this.state.numbers,s=e==n;c=c.push({number:a,actual:e,expected:n,correct:s,turn:r}),this.setState({numbers:c,turn:r+1}),this.fetchNext()}},{key:"fetchNext",value:function(){var e=this;this.setState({status:"LOADING"});var t=this.generateNumber();fetch("/fizz?number="+t,{headers:{Accept:"application/json"}}).then(function(e){if(!e.ok)throw Error(e);return e.json()}).then(function(t){var n;n=t,e.setState({current:n.number,answer:n.response,status:"LOADED"})}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e,t=this.state,n=t.status,a=t.numbers,c=t.current,s=t.paused;return e=s?r.a.createElement("div",{className:"well"},"Not running"):"LOADED"===n?r.a.createElement(E,{key:c,number:c,onAnswer:this.processAnswer,onTimeout:this.onTimeout}):r.a.createElement("div",{className:"well"},"Loading next number"),r.a.createElement("div",{className:"App"},r.a.createElement("nav",{className:"navbar navbar-default"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"navbar-header"},r.a.createElement("div",{className:"navbar-brand"},"Fizz/Buzz"),r.a.createElement("div",{className:"navbar-form navbar-left"},r.a.createElement("button",{className:"btn btn-default",onClick:this.handleStop},s?"Run":"Stop"))))),r.a.createElement("div",{className:"container-fluid"},r.a.createElement(h,{numbers:a}),e))}}]),t}(a.Component);s.a.render(r.a.createElement(N,null),document.getElementById("root"))}},[[52,2,1]]]);
//# sourceMappingURL=main.3cb0c7c3.chunk.js.map